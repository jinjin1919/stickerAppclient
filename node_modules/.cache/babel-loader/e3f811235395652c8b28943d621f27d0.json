{"ast":null,"code":"import _toConsumableArray from \"/Users/jinxu/StickyNoteKeeperApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/jinxu/StickyNoteKeeperApp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jinxu/StickyNoteKeeperApp/client/src/component/App.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport CreateArea from \"./CreateArea\";\nimport Axios from \"axios\";\n// import notes from '../notes'; \n\nfunction App() {\n  var _this = this;\n  // const[noteLst, setLst] = useState([...notes]); \n  var _useState = useState([{}]),\n    _useState2 = _slicedToArray(_useState, 2),\n    noteLst = _useState2[0],\n    setLst = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inp = _useState4[0],\n    setInput = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSearch = _useState6[0],\n    setIsSearch = _useState6[1];\n  var _useState7 = useState([{}]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    resLst = _useState8[0],\n    setResLst = _useState8[1];\n  useEffect(function () {\n    fetch(\"/articles\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      setLst(data);\n      fetch(\"/articles/\".concat(inp)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        setResLst(data);\n      });\n    });\n  }, [inp]);\n  function addNote(note) {\n    if (note.title !== \"\") {\n      setLst(function (prev) {\n        return [].concat(_toConsumableArray(prev), [note]);\n      });\n      setResLst(function (prev) {\n        return [].concat(_toConsumableArray(prev), [note]);\n      });\n    }\n  }\n  function searchNote(input) {\n    setInput(input);\n    setIsSearch(true);\n  }\n  function deleteNote(id, title) {\n    // console.log(id); \n    setLst(function (prev) {\n      return prev.filter(function (item, index) {\n        return index !== id;\n      });\n    });\n    setResLst(function (prev) {\n      return prev.filter(function (item, index) {\n        return index !== id;\n      });\n    });\n    Axios.delete(\"/articles/\".concat(title)).then(function (res) {\n      return console.log(\"Deleted!!!\", res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CreateArea, {\n    onAdd: addNote,\n    onSearch: searchNote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), isSearch ? resLst.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Note, {\n      onDelete: deleteNote,\n      key: index,\n      id: index,\n      title: item.title,\n      content: item.content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    });\n  }) : noteLst.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Note, {\n      onDelete: deleteNote,\n      key: index,\n      id: index,\n      title: item.title,\n      content: item.content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 8\n      }\n    });\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Header","Footer","Note","CreateArea","Axios","App","_this","_useState","_useState2","_slicedToArray","noteLst","setLst","_useState3","_useState4","inp","setInput","_useState5","_useState6","isSearch","setIsSearch","_useState7","_useState8","resLst","setResLst","fetch","then","response","json","data","concat","addNote","note","title","prev","_toConsumableArray","searchNote","input","deleteNote","id","filter","item","index","delete","res","console","log","catch","err","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onAdd","onSearch","map","onDelete","key","content"],"sources":["/Users/jinxu/StickyNoteKeeperApp/client/src/component/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport CreateArea from \"./CreateArea\";\nimport Axios from \"axios\"; \n// import notes from '../notes'; \n\nfunction App() {\n\n    \n    // const[noteLst, setLst] = useState([...notes]); \n    const[noteLst, setLst] = useState([{}]);\n    const[inp, setInput] = useState(\"\"); \n    const[isSearch, setIsSearch] = useState(false); \n    const[resLst, setResLst] = useState([{}]); \n\n    useEffect(() => {\n      fetch(\"/articles\").then(\n        response => response.json()\n      ).then (\n        data => {\n          setLst(data)\n          fetch(`/articles/${inp}`).then(\n            response => response.json()\n          ).then (\n            data => {\n              setResLst(data)\n            }\n          )\n        }\n      )\n    }, [inp])\n\n    function addNote(note) {\n      if(note.title !== \"\"){\n        setLst( prev => [...prev, note]); \n        setResLst(prev => [...prev, note]); \n      }\n    }\n\n    function searchNote(input) {\n      setInput(input); \n      setIsSearch(true); \n    }\n\n    function deleteNote(id, title) {\n        // console.log(id); \n        setLst(prev => {\n          return prev.filter((item, index) => {\n            return index !== id;\n          })});\n        setResLst(prev => {\n          return prev.filter((item, index) => {\n            return index !== id;\n          })});\n        \n        Axios.delete(`/articles/${title}`)\n        .then(res => console.log(\"Deleted!!!\", res)).catch(err => console.log(err)); \n        \n    }\n\n  return (\n    <div>\n      <Header />\n      <CreateArea \n        onAdd = {addNote}\n        onSearch = {searchNote}\n      />\n\n     \n      { isSearch ? \n      resLst.map((item, index) => { \n        return (\n        <Note \n             onDelete={deleteNote}\n             key={index} id={index} title={item.title} \n             content={item.content} \n         /> \n        );\n     }) :\n      noteLst.map((item, index) => { \n       return (\n       <Note \n            onDelete={deleteNote}\n            key={index} id={index} title={item.title} \n            content={item.content} \n        /> \n       );\n    })}\n      \n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}